Index: app/Http/Controllers/Website/CartController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Http\\Controllers\\Website;\r\n\r\nuse App\\Models\\Cart;\r\nuse Illuminate\\Http\\Request;\r\nuse App\\Http\\Controllers\\Controller;\r\n\r\nclass CartController extends Controller\r\n{\r\n\r\n    public function addCart(Request $request)\r\n    {\r\n        if ($request->has('buy_items')) {\r\n            foreach ($request->buy_items as $buy_item) {\r\n                $newRequest = new Request();\r\n                $newRequest->merge(['item_id' => $buy_item]);\r\n                $newRequest->merge(['offer_id' => $request->offer_id]);\r\n                $newRequest->merge(['quantity' => $request->quantity]);\r\n                $return = (app(\\App\\Http\\Controllers\\Api\\CartController::class)->addCart($newRequest))->getOriginalContent();\r\n            }\r\n            foreach ($request->get_items as $get_item) {\r\n                $newRequest = new Request();\r\n                $newRequest->merge(['item_id' => $get_item]);\r\n                $newRequest->merge(['offer_id' => $request->offer_id]);\r\n                $newRequest->merge(['quantity' => $request->quantity]);\r\n                (app(\\App\\Http\\Controllers\\Api\\CartController::class)->addCart($newRequest))->getOriginalContent();\r\n            }\r\n            return redirect()->route('menu.page');\r\n        }\r\n\r\n        if ($request->has('dough_type')) {\r\n            $dough_type = explode(',', $request->dough_type);\r\n            $request->merge(['dough_type_ar' => $dough_type[0]]);\r\n            $request->merge(['dough_type_en' => $dough_type[1]]);\r\n        }\r\n\r\n        $request->merge(['withouts' => json_encode($request->withouts)]);\r\n        $request->merge(['extras' => json_encode($request->extras)]);\r\n\r\n        $return = (app(\\App\\Http\\Controllers\\Api\\CartController::class)->getCart())->getOriginalContent();\r\n\r\n        if ($return['data']->count() > 0) {\r\n            foreach ($return['data'] as $item) {\r\n                if ($item->item_id == $request->item_id) {\r\n                    if (($item->extras == $request->extras) && ($item->withouts == $request->withouts) && ($item->dough_type_en == $request->dough_type_en)) {\r\n                        $cart = Cart::find($item->id);\r\n                        $cart->quantity = $cart->quantity + $request->quantity;\r\n                        $cart->save();\r\n                        return redirect()->route('menu.page');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        $return = (app(\\App\\Http\\Controllers\\Api\\CartController::class)->addCart($request))->getOriginalContent();\r\n        return redirect()->route('menu.page');\r\n    }\r\n\r\n    public function get_cart () {\r\n        $return = (app(\\App\\Http\\Controllers\\Api\\CartController::class)->getCart())->getOriginalContent();\r\n\r\n        if ($return['success'] == 'success') {\r\n            $cart = $return['data'];\r\n            return $cart;}\r\n        return view('website.cart');\r\n    }\r\n\r\n}\r\n
===================================================================
diff --git a/app/Http/Controllers/Website/CartController.php b/app/Http/Controllers/Website/CartController.php
--- a/app/Http/Controllers/Website/CartController.php	
+++ b/app/Http/Controllers/Website/CartController.php	
@@ -2,6 +2,7 @@
 
 namespace App\Http\Controllers\Website;
 
+use App\Models\Branch;
 use App\Models\Cart;
 use Illuminate\Http\Request;
 use App\Http\Controllers\Controller;
@@ -57,13 +58,113 @@
         return redirect()->route('menu.page');
     }
 
-    public function get_cart () {
+    public function get_cart()
+    {
+        $return = (app(\App\Http\Controllers\Api\CartController::class)->getCart())->getOriginalContent();
+        $request = new \Illuminate\Http\Request();
+        if ($return['success'] == 'success') {
+            $carts = $return['data'];
+            $arr_check = $this->get_check();
+            if (session()->has('point_claim')) {
+
+                return view('website.cart', compact(['carts', 'arr_check']));
+            } else {
+                return view('website.cart', compact(['carts', 'arr_check']));
+
+            }
+        }
+    }
+
+    public function delete_cart(Request $request)
+    {
+
+        $return = (app(\App\Http\Controllers\Api\CartController::class)->deleteCart($request))->getOriginalContent();
+
+        $arr_check = $this->get_check();
+        return response()->json($arr_check);
+    }
+
+    public function update_quantity(Request $request)
+    {
+        $return = (app(\App\Http\Controllers\Api\CartController::class)->updateQuantity($request))->getOriginalContent();
+        $arr_check = $this->get_check();
+
+        return response()->json($arr_check);
+    }
+
+
+    public function get_check()
+    {
         $return = (app(\App\Http\Controllers\Api\CartController::class)->getCart())->getOriginalContent();
-
+        $arr_data = [];
         if ($return['success'] == 'success') {
-            $cart = $return['data'];
-            return $cart;}
-        return view('website.cart');
+            $carts = $return['data'];
+            $final_item_price = 0;
+            foreach ($carts as $cart) {
+                $quantity = $cart->quantity;
+                $item_price = $cart->item->price;
+                $final_item_price += ($item_price * $quantity);
+
+                if ($cart->ExtrasObjects) {
+                    $extras_price = collect($cart->ExtrasObjects)->sum('price') * $quantity;
+                    $final_item_price += $extras_price;
+                }
+            }
+            if (session()->has('point_claim')) {
+                $arr_data['points'] = session()->get('point_claim_value');
+                $arr_data['taxes'] = round($final_item_price * .15, 2);
+                $arr_data['delivery_fees'] = session()->get('service_type') == 'delivery' ? 10 : 0;
+                $arr_data['subtotal'] = $final_item_price;
+                $final_item_price += ($arr_data['taxes'] + $arr_data['delivery_fees']) - $arr_data['points'];
+                $arr_data['total'] = $final_item_price;
+                return $arr_data;
+            } else {
+                $arr_data['taxes'] = round($final_item_price * .15, 2);
+                $arr_data['delivery_fees'] = session()->get('service_type') == 'delivery' ? 10 : 0;
+                $arr_data['subtotal'] = $final_item_price;
+
+                $final_item_price += $arr_data['taxes'] + $arr_data['delivery_fees'];
+                $arr_data['total'] = $final_item_price;
+                return $arr_data;
+            }
+
+        }
+
+
+    }
+
+    public function get_checkout(Request $request)
+    {
+        $address_id = 33;
+        $branch_id = 16;
+        $service_type = 'delivery';
+        $request->merge([
+            'address_id' => $address_id,
+            'branch_id' => $branch_id,
+            'service_type'=>$service_type
+        ]);
+        $branch = Branch::find($branch_id);
+        $return = (app(\App\Http\Controllers\Api\BranchesController::class)->show($request, $branch))->getOriginalContent();
+        if ($return['success'] == true) {
+            $branch = $return['data'];
+            $work_hours = $branch->workingDays()->where('day', strtolower(now()->englishDayOfWeek))->get();
+            return view('website.checkout', compact('request', 'branch', 'work_hours'));
+        }
+
+        if (session()->has('address_id')) {
+            if (session()->has('service_type'))
+                if (session()->has('branch_id')) {
+                    $address_id = session()->get('address_id');
+                    $branch_id = session()->get('branch_id');
+                    $service_type = session()->get('service_type');
+                    $request->merge([
+                        'address_id' => $address_id,
+                        'branch_id' => $branch_id,
+                        'service_type'=>$service_type
+                    ]);
+                    return view('website.make-order', compact('request'));
+                }
+        }
     }
 
 }
Index: resources/views/website/cart.blade.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@extends('layouts.website.app')\r\n\r\n@section('title') Cart @endsection\r\n\r\n@section('styles')\r\n    <link rel=\"stylesheet\" href=\"{{asset('website2-assets/css/style2.css')}}\">\r\n    <style>\r\n        .page-header__top {\r\n            margin: 20px 0px 30px!important;\r\n        }\r\n        a:hover, a:focus {\r\n            color: #ff0000;\r\n            text-decoration: none;\r\n        }\r\n        .stepper-type-2 .stepper-arrow.up {\r\n            top: 0;\r\n            margin-top: -5px;\r\n        }\r\n        .stepper-type-2 .stepper-arrow.down {\r\n            top: 100%;\r\n            margin-top: -20px;\r\n            font-size: 20px;\r\n        }\r\n        td{\r\n            border: 0!important;\r\n        }\r\n    </style>\r\n@endsection\r\n\r\n@section('pageName') <body class=\"page-article dm-light\"> @endsection\r\n\r\n@section('content')\r\n    <main class=\"page-main\">\r\n        <div class=\"page-content\">\r\n\r\n            <div class=\"uk-margin-large-top uk-container uk-container-small\">\r\n                <section class=\"section-50\">\r\n                    <div class=\"shell\">\r\n                        <div class=\"range\">\r\n                            <div class=\"cell-xs-12\">\r\n                                <h4 class=\"text-left font-default\">1 Items in your cart</h4>\r\n                                <div class=\"table-responsive offset-top-10\" style=\"border-radius: 10px;\">\r\n                                    <table class=\"table table-shopping-cart mt-4\">\r\n                                        <tbody>\r\n                                        <tr style=\"height: 10px\"></tr>\r\n                                        <tr style=\"background-color: #e6e6e68c!important;box-shadow: 0.1rem 0rem 1.5rem rgb(0 0 0 / 20%);border-radius: 5px; margin-bottom: 10px\">\r\n                                            <td style=\"width: 1px;\">\r\n                                                <div class=\"form-group stepper-type-2\">\r\n                                                    <input type=\"number\" data-zeros=\"true\" value=\"1\" min=\"1\" max=\"20\" readonly class=\"form-control text-bold\">\r\n                                                </div>\r\n                                            </td>\r\n                                            <td class=\"p-4\" style=\"width: 170px;height: 170px\">\r\n                                                <div class=\"\">\r\n                                                    <div class=\"product-image\"><img src=\"{{asset('website2-assets/img/user1.jpg')}}\" class=\"img-thumbnail\" style=\"border-radius: 10px;\" width=\"100%\" height=\"100%\" alt=\"\"></div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style=\"min-width: 340px;\">\r\n                                                <div class=\"text-left\"><span class=\"h5 text-sbold product-brand text-italic\" style=\"font-size: 25px;\">Fruits</span>\r\n                                                    <div class=\"offset-top-0\">Dough type:Borr</div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div class=\"inset-left-20\"><span class=\"h6\">Price: 19.6 SR</span></div>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div class=\"inset-left-20\"><a href=\"#\" style=\"font-size: 20px;\" class=\"icon icon-sm link-gray-lightest text-danger\"><i class=\"fas fa-trash\"></i></a></div>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr style=\"height: 30px\"></tr>\r\n                                        <tr style=\"background-color: #e6e6e68c!important;box-shadow: 0.1rem 0rem 1.5rem rgb(0 0 0 / 20%);border-radius: 5px; margin-bottom: 10px\">\r\n                                            <td style=\"width: 1px;\">\r\n                                                <div class=\"form-group stepper-type-2\">\r\n                                                    <input type=\"number\" data-zeros=\"true\" value=\"1\" min=\"1\" max=\"20\" readonly class=\"form-control text-bold\">\r\n                                                </div>\r\n                                            </td>\r\n                                            <td class=\"p-4\" style=\"width: 170px;height: 170px\">\r\n                                                <div class=\"\">\r\n                                                    <div class=\"product-image\"><img src=\"{{asset('website2-assets/img/user1.jpg')}}\" class=\"img-thumbnail\" style=\"border-radius: 10px;\" width=\"100%\" height=\"100%\" alt=\"\"></div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style=\"min-width: 340px;\">\r\n                                                <div class=\"text-left\"><span class=\"h5 text-sbold product-brand text-italic\" style=\"font-size: 25px;\">Fruits</span>\r\n                                                    <div class=\"offset-top-0\">Dough type:Borr</div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div class=\"inset-left-20\"><span class=\"h6\">Price: 19.6 SR</span></div>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div class=\"inset-left-20\"><a href=\"#\" style=\"font-size: 20px;\" class=\"icon icon-sm link-gray-lightest text-danger\"><i class=\"fas fa-trash\"></i></a></div>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr style=\"height: 30px\"></tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"mt-5 offset-9 col-xs-3\">\r\n                                    <div class=\"h4 font-default text-bold\">\r\n                                        <h6 class=\"mt-1 mb-2\"><b class=\"inset-right-5 text-gray-light\">Sub Total: </b> <span style=\"font-size: smaller;\">31.1 SR</span></h6>\r\n                                        <h6 class=\"mt-1 mb-2\"><b class=\"inset-right-5 text-gray-light\">Tax: </b> <span style=\"font-size: smaller;\">31.1 SR</span></h6>\r\n                                        <h6 class=\"mt-1 mb-2\"><b class=\"inset-right-5 text-gray-light\">Delivery Fees: </b> <span style=\"font-size: smaller;\">31.1 SR</span></h6>\r\n                                        <h6 class=\"mt-1 mb-2\"><b class=\"inset-right-5 text-gray-light\">Total: </b> <span style=\"font-size: smaller;\">31.1 SR</span></h6>\r\n                                    </div>\r\n                                    <a class=\"uk-button w-100\" href=\"#\" style=\"border-radius: 100px;\"> <span>Checkout</span></a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n\r\n@endsection\r\n\r\n@section('scripts')\r\n    <script src=\"{{asset('website2-assets/js/core.min.js')}}\"></script>\r\n    <script src=\"{{asset('website2-assets/js/script.js')}}\"></script>\r\n@endsection\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/resources/views/website/cart.blade.php b/resources/views/website/cart.blade.php
--- a/resources/views/website/cart.blade.php	
+++ b/resources/views/website/cart.blade.php	
@@ -6,116 +6,291 @@
     <link rel="stylesheet" href="{{asset('website2-assets/css/style2.css')}}">
     <style>
         .page-header__top {
-            margin: 20px 0px 30px!important;
+            margin: 20px 0px 30px !important;
         }
+
         a:hover, a:focus {
             color: #ff0000;
             text-decoration: none;
         }
+
         .stepper-type-2 .stepper-arrow.up {
             top: 0;
             margin-top: -5px;
         }
+
         .stepper-type-2 .stepper-arrow.down {
             top: 100%;
             margin-top: -20px;
             font-size: 20px;
         }
-        td{
-            border: 0!important;
+
+        td {
+            border: 0 !important;
         }
     </style>
 @endsection
 
-@section('pageName') <body class="page-article dm-light"> @endsection
+@section('pageName')
+    <body class="page-article dm-light"> @endsection
 
-@section('content')
-    <main class="page-main">
-        <div class="page-content">
+    @section('content')
+        <main class="page-main">
+            <div class="page-content">
 
-            <div class="uk-margin-large-top uk-container uk-container-small">
-                <section class="section-50">
-                    <div class="shell">
-                        <div class="range">
-                            <div class="cell-xs-12">
-                                <h4 class="text-left font-default">1 Items in your cart</h4>
-                                <div class="table-responsive offset-top-10" style="border-radius: 10px;">
-                                    <table class="table table-shopping-cart mt-4">
-                                        <tbody>
-                                        <tr style="height: 10px"></tr>
-                                        <tr style="background-color: #e6e6e68c!important;box-shadow: 0.1rem 0rem 1.5rem rgb(0 0 0 / 20%);border-radius: 5px; margin-bottom: 10px">
-                                            <td style="width: 1px;">
-                                                <div class="form-group stepper-type-2">
-                                                    <input type="number" data-zeros="true" value="1" min="1" max="20" readonly class="form-control text-bold">
-                                                </div>
-                                            </td>
-                                            <td class="p-4" style="width: 170px;height: 170px">
-                                                <div class="">
-                                                    <div class="product-image"><img src="{{asset('website2-assets/img/user1.jpg')}}" class="img-thumbnail" style="border-radius: 10px;" width="100%" height="100%" alt=""></div>
-                                                </div>
-                                            </td>
-                                            <td style="min-width: 340px;">
-                                                <div class="text-left"><span class="h5 text-sbold product-brand text-italic" style="font-size: 25px;">Fruits</span>
-                                                    <div class="offset-top-0">Dough type:Borr</div>
-                                                </div>
-                                            </td>
-                                            <td>
-                                                <div class="inset-left-20"><span class="h6">Price: 19.6 SR</span></div>
-                                            </td>
-                                            <td>
-                                                <div class="inset-left-20"><a href="#" style="font-size: 20px;" class="icon icon-sm link-gray-lightest text-danger"><i class="fas fa-trash"></i></a></div>
-                                            </td>
-                                        </tr>
-                                        <tr style="height: 30px"></tr>
-                                        <tr style="background-color: #e6e6e68c!important;box-shadow: 0.1rem 0rem 1.5rem rgb(0 0 0 / 20%);border-radius: 5px; margin-bottom: 10px">
-                                            <td style="width: 1px;">
-                                                <div class="form-group stepper-type-2">
-                                                    <input type="number" data-zeros="true" value="1" min="1" max="20" readonly class="form-control text-bold">
-                                                </div>
-                                            </td>
-                                            <td class="p-4" style="width: 170px;height: 170px">
-                                                <div class="">
-                                                    <div class="product-image"><img src="{{asset('website2-assets/img/user1.jpg')}}" class="img-thumbnail" style="border-radius: 10px;" width="100%" height="100%" alt=""></div>
-                                                </div>
-                                            </td>
-                                            <td style="min-width: 340px;">
-                                                <div class="text-left"><span class="h5 text-sbold product-brand text-italic" style="font-size: 25px;">Fruits</span>
-                                                    <div class="offset-top-0">Dough type:Borr</div>
-                                                </div>
-                                            </td>
-                                            <td>
-                                                <div class="inset-left-20"><span class="h6">Price: 19.6 SR</span></div>
-                                            </td>
-                                            <td>
-                                                <div class="inset-left-20"><a href="#" style="font-size: 20px;" class="icon icon-sm link-gray-lightest text-danger"><i class="fas fa-trash"></i></a></div>
-                                            </td>
-                                        </tr>
-                                        <tr style="height: 30px"></tr>
-
-                                        </tbody>
-                                    </table>
-                                </div>
-                                <div class="mt-5 offset-9 col-xs-3">
-                                    <div class="h4 font-default text-bold">
-                                        <h6 class="mt-1 mb-2"><b class="inset-right-5 text-gray-light">Sub Total: </b> <span style="font-size: smaller;">31.1 SR</span></h6>
-                                        <h6 class="mt-1 mb-2"><b class="inset-right-5 text-gray-light">Tax: </b> <span style="font-size: smaller;">31.1 SR</span></h6>
-                                        <h6 class="mt-1 mb-2"><b class="inset-right-5 text-gray-light">Delivery Fees: </b> <span style="font-size: smaller;">31.1 SR</span></h6>
-                                        <h6 class="mt-1 mb-2"><b class="inset-right-5 text-gray-light">Total: </b> <span style="font-size: smaller;">31.1 SR</span></h6>
-                                    </div>
-                                    <a class="uk-button w-100" href="#" style="border-radius: 100px;"> <span>Checkout</span></a>
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                </section>
-            </div>
-
-        </div>
-    </main>
-
-@endsection
+                <div class="uk-margin-large-top uk-container uk-container-small">
+                    <section class="section-50">
+                        <div class="shell">
+                            <div class="range">
+                                @if(isset($carts))
+                                    <div class="cell-xs-12">
+                                        <h4 class="text-left font-default"><span
+                                                id="itemcount">{{$carts->count()}}</span> Items in your cart</h4>
+                                        <div class="table-responsive offset-top-10" style="border-radius: 10px;">
+                                            <table class="table table-shopping-cart mt-4">
+                                                <tbody>
+                                                @foreach($carts as $cart)
+
+                                                    <tr class="card1{{$cart->id}}" style="height: 10px"></tr>
+                                                    <tr class="cart2{{$cart->id}}"
+                                                        style="background-color: #e6e6e68c!important;box-shadow: 0.1rem 0rem 1.5rem rgb(0 0 0 / 20%);border-radius: 5px; margin-bottom: 10px">
+                                                        <td style="width: 1px;">
+                                                            <div
+                                                                class="form-group stepper-type-2 quantity-up-{{$cart->id}}">
+                                                                <input type="number" data-zeros="true"
+                                                                       value="{{$cart->quantity}}" min="1" max="20"
+                                                                       readonl
+                                                                       data-id="{{$cart->id}}"
+                                                                       class="form-control text-bold quantity_ch quantity_change{{$cart->id}}">
+                                                            </div>
+                                                        </td>
+                                                        <td class="p-4 pr-0 pl-0" style="width: 170px;height: 170px">
+                                                            <div class="w-100 h-100">
+                                                                <div class="product-image w-100 h-100"><img
+                                                                        src="{{asset($cart->item->image)}}"
+                                                                        class="img-thumbnail w-100 h-100"
+                                                                        style="border-radius: 10px;" alt=""></div>
+                                                            </div>
+                                                        </td>
+                                                        <td style="min-width: 340px;">
+                                                            <div class="text-left">
+                                                                <div class="row w-100 m-0">
+                                                                    <div class="col-8">
+                                                                        <span
+                                                                            class="h5 text-sbold product-brand text-italic"
+                                                                            style="font-size: 25px;">{{(app()->getLocale() == 'ar')? $cart->item->name_ar:$cart->item->name_en}}</span>
+                                                                        <div class="offset-top-0">
+                                                                            {{(app()->getLocale() == 'ar')? $cart->item->description_ar:$cart->item->description_en}}
+                                                                            <p> Calories : {{$cart->item->calories}}</p>
+                                                                        </div>
+                                                                    </div>
+                                                                    <div class="col-4 d-flex">
+                                                                        <div class="p-2 mr-4"><span class="h6">Price: {{$cart->item->price}} SR</span>
+                                                                            @if($cart->offer_id)
+                                                                                <i class="fa fa-gift fa-4x text-danger "
+                                                                                   aria-hidden="true"></i>
+
+                                                                            @endif
+                                                                        </div>
+                                                                        <div class="inset-left-20 delete_cart"
+                                                                             data-id="{{$cart->id}}"><a
+                                                                                href="#"
+                                                                                style="font-size: 20px;"
+                                                                                class="icon icon-sm link-gray-lightest text-danger"><i
+                                                                                    class="fas fa-trash"></i></a></div>
+                                                                    </div>
+                                                                </div>
+                                                                @if(!$cart->offer_id)
+                                                                    <div>
+                                                                        <div class="row w-100 m-0 mt-4">
+
+                                                                            @foreach($cart->ExtrasObjects as $extra)
+                                                                                <div class="col-4">
+
+                                                                                    <p>Extra
+                                                                                        : {{(app()->getLocale() == 'ar')? $extra->name_ar:$extra->name_en}} </p>
+                                                                                </div>
+                                                                                <div class="col-4">
+                                                                                    <p> Calories
+                                                                                        : {{$extra->calories}}</p>
+                                                                                </div>
+                                                                                <div class="col-4">
+                                                                                    <p> Price : {{$extra->price}}
+                                                                                        SR</p>
+
+                                                                                </div>
+
+                                                                            @endforeach
+
+
+                                                                        </div>
+                                                                        <div class="row w-100 m-0 mt-2">
+
+                                                                            @foreach($cart->WithoutsObjects as $without)
+                                                                                <div class="col-4">
+
+                                                                                    <p>Without
+                                                                                        : {{(app()->getLocale() == 'ar')? $without->name_ar:$without->name_en}} </p>
+                                                                                </div>
+                                                                                <div class="col-6">
+                                                                                    <p> Calories
+                                                                                        : {{$without -> calories}}</p>
+                                                                                </div>
+                                                                            @endforeach
+                                                                        </div>
+                                                                        <div class="row w-100 m-0 mt-3">
+                                                                            <div class="col-3">
+                                                                                <p>Dough Type
+                                                                                    : {{(app()->getLocale() == 'ar')? $cart->dough_type_ar:$cart->dough_type_en}} </p>
+                                                                            </div>
+                                                                        </div>
+                                                                    </div>
+                                                                @endif
+
+
+                                                            </div>
+                                                        </td>
+                                                    </tr>
+                                                    <tr class="cart3{{$cart->id}}" style="height: 30px">
+
+                                                    </tr>
+                                                @endforeach
+                                                </tbody>
+                                            </table>
+                                        </div>
+
+                                        <form action="{{route('checkout')}}" method="post"  >
+
+                                            @csrf
+                                            <div class="mt-5 offset-9 col-xs-3">
+                                                <div class="h4 font-default text-bold">
+                                                    <h6 class="mt-1 mb-2"><b
+                                                            class="inset-right-5 text-gray-light">Sub
+                                                            Total: </b> <span id="subtotal" style="font-size: smaller;">{{$arr_check['subtotal']}} SR</span>
+                                                        <input id="subtotalinput" hidden    name="subtotal" value="{{$arr_check['subtotal']}}"/>
+                                                    </h6>
+                                                    <h6 class="mt-1 mb-2"><b
+
+                                                            class="inset-right-5 text-gray-light">Tax: </b>
+                                                        <span id="taxes" style="font-size: smaller;">{{$arr_check['taxes']}} SR</span>
+                                                        <input id="taxesinput" hidden   name="taxes" value="{{$arr_check['taxes']}}"/>
+
+                                                    </h6>
+                                                    <h6 class="mt-1 mb-2"><b class="inset-right-5 text-gray-light">Delivery
+                                                            Fees: </b> <span
+                                                            id="delivery_fees" style="font-size: smaller;">{{$arr_check['delivery_fees']}} SR</span>
+                                                        <input id="delivery_feesnput"  hidden   name="delivery_fees" value="{{$arr_check['delivery_fees']}}"/>
+
+                                                    </h6>
+                                                    @if(isset($arr_check['points']))
+                                                        <h6 class="mt-1 mb-2"><b class="inset-right-5 text-gray-light">Loyality Discount: </b> <span
+                                                                id="points" style="font-size: smaller;"> - {{$arr_check['points']}} SR</span>
+                                                            <input id="pointsinput"  hidden   name="points_paid" value="{{$arr_check['points']}}"/>
+
+                                                        </h6>
+                                                    @endif
+
+                                                    <h6 class="mt-1 mb-2"><b
+
+                                                            class="inset-right-5 text-gray-light">Total: </b> <span
+                                                            style="font-size: smaller;" id="total">{{$arr_check['total']}} SR</span>
+                                                        <input id="totalinput"   hidden name="total" value="{{$arr_check['total']}}"/>
+
+                                                    </h6>
+                                                </div>
+                                                <button type="submit" class="uk-button w-100"  style="border-radius: 100px;"> <span>Checkout</span></button>
+                                            </div>
+
+                                        </form>
+                                    </div>
+                                @endif
+                            </div>
+                        </div>
+                    </section>
+                </div>
+            </div>
+        </main>
+    @endsection
 
-@section('scripts')
-    <script src="{{asset('website2-assets/js/core.min.js')}}"></script>
-    <script src="{{asset('website2-assets/js/script.js')}}"></script>
+    @section('scripts')
+        <script src="{{asset('website2-assets/js/core.min.js')}}"></script>
+        <script src="{{asset('website2-assets/js/script.js')}}"></script>
+        <script>
+            window.onload = function () {
+                $(document).on('click', '.delete_cart', function (e) {
+                    e.preventDefault();
+                    var id = $(this).attr('data-id');
+
+                    $.ajax({
+                        type: 'post',
+                        url: '{{route('delete.cart')}}',
+                        data: {
+                            "_token": "{{ csrf_token() }}",
+                            'cart_id': id,
+                        },
+                        success: function (data) {
+                            $(`.cart1${id}`).hide();
+                            $(`.cart2${id}`).hide();
+                            $(`.cart3${id}`).hide();
+                            $('#itemcount').text((parseInt($('#itemcount').text())) - 1);
+
+                            $('#subtotal').text(data.subtotal);
+                            $('#taxes').text(data.taxes);
+                            $('#total').text(data.total);
+                            $('#delivery_fees').text(data.delivery_fees);
+                            @if(isset($arr_check['points']))
+                            $('#points').text(data.points);
+                            @endif
+                        },
+                        error: function (reject) {
+                            console.log(reject);
+                        }
+                    })
+                });
+                $(".quantity_ch").change(function () {
+                    var quantity = $(this).val();
+                    var id = $(this).attr('data-id');
+
+                    $.ajax({
+                        type: 'post',
+                        url: '{{route('update.quantity')}}',
+                        data: {
+                            "_token": "{{ csrf_token() }}",
+                            'cart_id': id,
+                            'quantity': quantity,
+                        },
+                        success: function (data) {
+                            $('#subtotal').text(data.subtotal);
+                            $('#subtotalinput').val(data.subtotal)
+
+                            $('#taxes').text(data.taxes);
+                            $('#taxesinput').val(data.taxes)
+
+                            $('#total').text(data.total);
+                            $('#totalinput').val(data.total)
+
+                            $('#delivery_fees').text(data.delivery_fees);
+                            $('#delivery_feesinput').val(data.delivery_fees)
+
+                            @if(isset($arr_check['points']))
+                            $('#points').text(data.points);
+                            $('#pointsnput').val(data.points)
+
+                            @endif
+
+                        },
+                        error: function (reject) {
+                            console.log(reject);
+
+                        }
+                    })
+
+                });
+            }
+        </script>
+
 @endsection
+@push('scripts')
+
+
+@endpush
